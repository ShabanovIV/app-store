{"version":3,"file":"main.6c0da1a0dcc62d3c7eaa.js","mappings":"uJAGIA,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,kEAAmE,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,6CAA6C,MAAQ,GAAG,SAAW,gDAAgD,eAAiB,CAAC,+FAA+F,WAAa,MAExX,S,qFCPO,MACMC,EAAiB,uCCCxBC,EAAc,CAClBC,MAAO,SAASF,IAChBG,KAAM,QAAQH,KAqBHI,EAAaF,IAhBV,IAACG,EAAiBC,EAAjBD,EAiBPJ,EAAYC,MAjBYI,EAiBLJ,EAhB3BK,aAAaC,QAAQH,EAAKC,EAgBO,E,uBCtB5B,MAAMG,GAAU,QAAU,CAC/BC,YAAa,UAEbC,WAAW,QAAe,CAAEC,QFPF,2CEQ1BC,UAAYC,IAAY,CACtBC,OAAQD,EAAQE,SAAiC,CAC/CC,MAAQC,IAAS,CACfC,IAAK,UACLC,OAAQ,OACRF,KAAM,OAAF,wBAAOA,GAAI,CAAEG,UAAWrB,QAGhCsB,OAAQR,EAAQE,SAAiC,CAC/CC,MAAQC,IAAS,CACfC,IAAK,UACLC,OAAQ,OACRF,gBAMK,kBAAEK,EAAiB,kBAAEC,GAAsBf,EClBlDgB,EAA0B,CAC9BvB,OFIeG,EAiBAJ,EAAYC,MAhBpBK,aAAamB,QAAQrB,KAeN,IAhBPA,EEDjB,MAAMsB,GAAY,QAAY,CAC5BC,KAAM,OACNH,eACAI,SAAU,CACR,MAAAC,CAAOC,GACLA,EAAM7B,MAAQ,KFgBO,MAhBR,IAACG,IAiBPJ,EAAYC,MAhBvBK,aAAayB,WAAW3B,EAgBK,EEhBzB4B,EACF,GAEFC,cAAgBpB,IACdA,EAAQqB,WAAW1B,EAAQI,UAAUS,OAAOc,gBAAgB,CAACL,EAAOM,KAClEN,EAAM7B,MAAQmC,EAAOC,QAAQpC,MAC7BE,EAAUiC,EAAOC,QAAQpC,MAAM,IAGjCY,EAAQqB,WAAW1B,EAAQI,UAAUE,OAAOqB,gBAAgB,CAACL,EAAOM,KAClEN,EAAM7B,MAAQmC,EAAOC,QAAQpC,MAC7BE,EAAUiC,EAAOC,QAAQpC,MAAM,GAC/B,KAIO,OAAE4B,GAAWH,EAAUY,QACpC,EAAeZ,EAAiB,QACnBa,EAAeT,GAAqBA,EAAMU,KAAKvC,M,cClC9B,KAAYwC,YAAnC,MACMC,EAAkD,KCAlDC,EAAU,IAEJ,OADHD,EAAeH,G,kGCDxB,MAAMK,GAAW,QAAe,CACrCC,QAAS,CACPL,KAAM,KACN,CAAC,KAAQ/B,aAAc,KAAQoC,SAEjCC,WAAaC,GAAyBA,IAAuBC,OAAO,KAAQF,YAC5EG,UAAU,I,kCCIL,MAAMC,UAAyB,EAAAC,UAAtC,c,oBACE,oC,gDAA+B,CAC7BC,UAAU,EACVC,MAAO,QAiBT,0C,gDAAc,KACZC,KAAKC,SAAS,CAAEH,UAAU,EAAOC,MAAO,MAAO,GAoBnD,CAnCE,+BAAOG,CAAyBH,GAC9B,OAAI,QAAeA,GACV,CAAED,UAAU,EAAMC,MAAO,IAAII,OAAM,QAAWJ,MAC5C,QAAUA,GACZ,CAAED,UAAU,EAAMC,MAAO,IAAII,MAAMJ,EAAMK,UAG3C,CAAEN,UAAU,EAAMC,MAAO,IAAII,MAAM,kBAC5C,CAEA,iBAAAE,CAAkBN,EAAgBO,GAChCC,QAAQR,MAAM,oCAAqCA,EAAOO,EAC5D,CAMA,MAAAE,GACE,OAAIR,KAAKxB,MAAMsB,UAEX,SAAC,KAAM,CACLW,OAAO,MACPC,SAAS,wBACTC,OACE,SAAC,KAAM,CAACC,QAASZ,KAAKa,YAAaC,KAAK,UAAS,yBAQlDd,KAAKe,MAAMC,QACpB,E,kCCrDK,MAAMC,EACH,SADGA,EAEF,UAFEA,EAGI,gBAKJC,EAAS,CACpBC,KAAM,CACJC,KAAM,IACNC,MAAO,OACPP,KAAMG,EACNK,YAAY,GAEdC,KAAM,CACJH,KAAM,QACNC,MAAO,OACPP,KAAMG,EACNK,YAAY,GAEdpC,KAAM,CACJkC,KAAM,QACNC,MAAO,OACPP,KAAMG,EACNK,YAAY,GAEdE,QAAS,CACPJ,KAAM,WACNC,MAAO,UACPP,KAAMG,EACNK,YAAY,IAIHG,EAAyB,IAC7BC,OAAOC,KAAKT,GAChBU,KAAK9E,GAAQoE,EAAOpE,KACpB+E,QAAQC,GAAUA,EAAMhB,OAASG,IAGzBc,EAAkB,IACtBL,OAAOC,KAAKT,GAChBU,KAAK9E,GAAQoE,EAAOpE,KACpB+E,QAAQC,GAAUA,EAAMhB,OAASG,ICvCzBe,EAAoB,KAC/B,MAAMC,GAAW,UACXC,GAAS,UAOTC,EAJS,IADOV,OACgBS,EAASH,IAAoB,IAAKF,QACrEC,GAAUA,EAAMR,aAGMM,KAAKE,IACrB,CACLhF,IAAKgF,EAAMV,KACXgB,OAAO,SAAC,KAAI,CAACC,GAAIP,EAAMV,KAAI,SAAGU,EAAMT,YAIxC,OACE,SAAC,IAAI,CAACiB,MAAM,OAAOC,KAAK,aAAaC,aAAc,CAACP,EAASQ,UAAWC,MAAOP,GAChF,E,4CCjBUQ,EAAiB,KAC5B,MAAMR,EAAY,CAChB,CACErF,IAAK,OACLsF,OACE,SAAC,KAAI,CAACC,GAAG,IAAG,UACV,gBAAKO,IAAK,EAAMC,IAAI,YAAYC,UCXnB,+BDiBrB,OAAO,SAAC,IAAI,CAACR,MAAM,OAAOC,KAAK,aAAaQ,YAAY,EAAOL,MAAOP,GAAa,EEZxEa,EAAsB,KAE/B,UAAC,KAAM,CAACF,UCPa,gCDOW,WAC9B,SAACH,EAAI,KACL,SAACX,EAAO,OEADiB,EAAmC,EAAGjC,eAE/C,UAAC,IAAM,CAAC8B,UCXa,gCDWW,WAC9B,SAACE,EAAS,KACV,SAAC,KAAO,CAACF,UCboD,iCDa3B,SAAG9B,KACrC,SAAC,KAAM,CAAC8B,UCd+F,gCDcvE,+BELzBI,EAAsC,EAAGlC,eAElD,SAACpB,EAAgB,WACf,SAAC,KAAU,WACT,SAAC,KAAQ,CAACuD,MAAO7D,EAAQ,UACvB,SAAC2D,EAAS,UAAEjC,UCKtB,EAXkD,EAAGA,eACnD,MAAMkB,GAAS,UACTD,GAAW,UAEjB,OAAKC,EAIElB,GAHE,SAAC,KAAQ,CAACqB,GAAInB,EAAOhC,KAAKkC,KAAM5C,MAAO,CAAE4E,KAAMnB,EAASQ,UAAYY,SAAO,GAGrE,ECLXC,GAAW,IAAAC,OAAK,IAAM,gCACtBC,GAAW,IAAAD,OAAK,IAAM,wDAEtBE,EAAQ,CACZ,CAAErC,KAAMF,EAAOC,KAAKC,KAAMsC,SAAS,SAACJ,EAAQ,KAC5C,CAAElC,KAAMF,EAAOhC,KAAKkC,KAAMsC,SAAS,SAACF,EAAQ,KAC5C,CAAEpC,KAAMF,EAAOM,QAAQJ,KAAMsC,SAAS,uCA4BlCC,EAAsBzB,GAExBA,GACAH,IAAkBH,KAAKE,IAEnB,SAAC,KAAK,CAEJV,KAAMU,EAAMV,KACZsC,SAAS,SAAC,EAAY,UAAEE,EAAW9B,EAAMV,SAFpCU,EAAMV,QASfwC,EAAcxC,IAClB,MAAMyC,EAAOJ,EAAMK,MAAMD,GAASA,EAAKzC,OAASA,IAChD,OAAOyC,EACLA,EAAY,SAEZ,SAAC,KAAM,CACLpD,OAAO,MACPY,MAAM,MACNX,SAAS,8CACTC,OACE,SAAC,KAAM,CAACC,QAAS,IAAOmD,OAAO9B,SAAS+B,KAAO9C,EAAOC,KAAKC,KAAON,KAAK,UAAS,wBAKrF,EAGH,EA1DkB,KAChB,MAAMoB,GAAS,UAEf,OACE,UAAC,KAAM,WAQFT,IAAyBG,KAAKE,GAC5BA,EAAMhB,OAASG,GACpB,SAAC,KAAK,CAEJG,KAAMU,EAAMV,KACZsC,SAAS,SAAC,EAAY,UAAEE,EAAW9B,EAAMV,SAFpCU,EAAMV,OAKb,SAAC,KAAK,CAAkBA,KAAMU,EAAMV,KAAMsC,QAASE,EAAW9B,EAAMV,OAAxDU,EAAMV,QAdjBuC,EAAmBzB,KAEvB,E,+HClBC+B,EAAU,CAAC,EAEfA,EAAQC,kBAAoB,IAC5BD,EAAQE,cAAgB,IACxBF,EAAQG,OAAS,SAAc,KAAM,QACrCH,EAAQI,OAAS,IACjBJ,EAAQK,mBAAqB,IAEhB,IAAI,IAASL,GAKJ,KAAW,IAAQM,QAAS,IAAQA,OClB1D,aAAoBC,SAASC,eAAe,SAAUjE,QACpD,SAAC,aAAgB,WACf,UCLkB,KAElB,SAAC0C,EAAS,WACR,SAAC,EAAS,ODER,M,iBEKR,IAAYwB,E,+DAAZ,SAAYA,GACV,oEACA,wDACA,0CACA,kDACA,8CACA,gCACA,sBACA,8BACA,oCACA,gCACA,8CACA,sDACA,2CACD,CAdD,CAAYA,IAAAA,EAAS,KAgBd,MAAMC,EAAsB5E,IACjC,MAAI6E,EAA6B7E,GACzBA,EAAM8E,KAEN9E,CACR,EAeW+E,EAAc,CAAC/E,EAAqBgF,IACxChF,EAAMiF,OAAOC,MAAMC,GAAQH,EAAMI,SAASD,EAAIE,WAAWC,QAGrDC,EAAcvF,GAClBA,EAAMiF,OAAOpD,KAAKsD,GAAQA,EAAI9E,UAASmF,KAAK,MAGxCC,EAAazF,GACH,iBAAVA,GAAgC,OAAVA,GAI7B,YAAaA,GAA4D,iBAA3CA,EAA+BK,QAOtDwE,EAAgC7E,GACtB,iBAAVA,GAAgC,OAAVA,OAI3B,SAAUA,KAAW0F,EAAgB1F,aAAK,EAALA,EAA6B8E,OAO7DY,EAAkB1F,GACR,iBAAVA,GAAgC,OAAVA,OAI3B,WAAYA,KAAW2F,MAAMC,QAAS5F,EAAuBiF,UAI3DjF,EAAuBiF,OAAOY,OACnCV,GACoB,iBAARA,GAA4B,OAARA,GAK2B,iBAAhDA,EAAuC7G,MACY,iBAAnD6G,EAAuC9E,SACU,iBAAjD8E,EAAuCW,OAM7C,eAAgBX,GAC4C,iBAAtDA,EAAuCE,YACQ,OAAtDF,EAAuCE,cAM2B,iBAA3DF,EAAuCE,WAAWC,OACxD3D,OAAOoE,OAAOpB,GAAwBS,SACrCD,EAAuCE,WAAWC,WAOrD,cAAeH,IAC8C,iBAArDA,EAAuCa,Y","sources":["webpack://app-store/./src/shared/styles/global.scss","webpack://app-store/./src/shared/config/apiConfig.ts","webpack://app-store/./src/shared/lib/appLocalStorage.ts","webpack://app-store/./src/entities/User/model/userApi.ts","webpack://app-store/./src/entities/User/model/authSlice.ts","webpack://app-store/./src/shared/hooks/store.ts","webpack://app-store/./src/entities/User/hooks/useAuth.ts","webpack://app-store/./src/app/store/appStore.ts","webpack://app-store/./src/app/providers/AppErrorBoundary/AppErrorBoundary.tsx","webpack://app-store/./src/shared/config/routes.ts","webpack://app-store/./src/features/AppMenu/ui/AppMenu.tsx","webpack://app-store/./src/shared/ui/Logo/Logo.tsx","webpack://app-store/./src/shared/ui/Logo/Logo.module.scss?a61c","webpack://app-store/./src/widgets/AppHeader/ui/AppHeader.tsx","webpack://app-store/./src/widgets/AppHeader/ui/AppHeader.module.scss?5631","webpack://app-store/./src/app/AppLayout.tsx","webpack://app-store/./src/app/AppLayout.module.scss?6e9d","webpack://app-store/./src/app/providers/Providers.tsx","webpack://app-store/./src/app/routes/PrivateRoute.tsx","webpack://app-store/./src/app/routes/AppRoutes.tsx","webpack://app-store/./src/shared/styles/global.scss?6b19","webpack://app-store/./src/index.tsx","webpack://app-store/./src/app/App.tsx","webpack://app-store/./src/shared/api/errors.ts"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `html,body{margin:0;padding:0;min-height:100dvh;overflow:hidden}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/shared/styles/global.scss\"],\"names\":[],\"mappings\":\"AAAA,UAEE,QAAA,CACA,SAAA,CACA,iBAAA,CACA,eAAA\",\"sourcesContent\":[\"html,\\nbody {\\n  margin: 0;\\n  padding: 0;\\n  min-height: 100dvh;\\n  overflow: hidden;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","export const API_BASE_URL = 'https://19429ba06ff2.vps.myjino.ru/api';\nexport const API_COMMAND_ID = '123e4567-e89b-12d3-a456-426614174000';\n","import { API_COMMAND_ID } from 'src/shared/config/apiConfig';\n\nconst StorageKeys = {\n  token: `token-${API_COMMAND_ID}`,\n  user: `user-${API_COMMAND_ID}`,\n} as const;\n\ntype StorageKey = (typeof StorageKeys)[keyof typeof StorageKeys];\n\nconst setItem = (key: StorageKey, value: string): void => {\n  localStorage.setItem(key, value);\n};\n\nconst getItem = (key: StorageKey): string | null => {\n  return localStorage.getItem(key);\n};\n\nconst removeItem = (key: StorageKey): void => {\n  localStorage.removeItem(key);\n};\n\nexport const clearStorage = (): void => {\n  localStorage.clear();\n};\n\nexport const saveToken = (token: string): void => {\n  setItem(StorageKeys.token, token);\n};\n\nexport const getToken = (): string | null => {\n  return getItem(StorageKeys.token);\n};\n\nexport const removeToken = (): void => {\n  removeItem(StorageKeys.token);\n};\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\nimport { API_BASE_URL, API_COMMAND_ID } from 'src/shared/config/apiConfig';\nimport { AuthResult, SignUpBody, SignInBody } from '../types/user';\n\nexport const userApi = createApi({\n  reducerPath: 'userApi',\n\n  baseQuery: fetchBaseQuery({ baseUrl: API_BASE_URL }),\n  endpoints: (builder) => ({\n    signup: builder.mutation<AuthResult, SignUpBody>({\n      query: (body) => ({\n        url: '/signup',\n        method: 'POST',\n        body: { ...body, commandId: API_COMMAND_ID },\n      }),\n    }),\n    signin: builder.mutation<AuthResult, SignInBody>({\n      query: (body) => ({\n        url: '/signin',\n        method: 'POST',\n        body,\n      }),\n    }),\n  }),\n});\n\nexport const { useSignupMutation, useSigninMutation } = userApi;\n","import { createSlice } from '@reduxjs/toolkit';\nimport { getToken, removeToken, saveToken } from 'src/shared/lib/appLocalStorage';\nimport { userApi } from '../model/userApi';\n\ninterface AuthState {\n  token: string | null;\n}\n\nconst initialState: AuthState = {\n  token: getToken(),\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    logout(state) {\n      state.token = null;\n      removeToken();\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addMatcher(userApi.endpoints.signin.matchFulfilled, (state, action) => {\n      state.token = action.payload.token;\n      saveToken(action.payload.token);\n    });\n\n    builder.addMatcher(userApi.endpoints.signup.matchFulfilled, (state, action) => {\n      state.token = action.payload.token;\n      saveToken(action.payload.token);\n    });\n  },\n});\n\nexport const { logout } = authSlice.actions;\nexport default authSlice.reducer;\nexport const selectToken = (state: RootState) => state.auth.token;\n","import { useDispatch, useSelector, type TypedUseSelectorHook } from 'react-redux';\n\nexport const useAppDispatch = useDispatch.withTypes<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import { useAppSelector } from 'src/shared/hooks/store';\nimport { selectToken } from '../model/authSlice';\n\nexport const useAuth = () => {\n  const token = useAppSelector(selectToken);\n  return token !== null;\n};\n","import { configureStore } from '@reduxjs/toolkit';\nimport { userApi, authReducer } from 'src/entities/User/';\n\nexport const appStore = configureStore({\n  reducer: {\n    auth: authReducer,\n    [userApi.reducerPath]: userApi.reducer,\n  },\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware().concat(userApi.middleware),\n  devTools: true,\n});\n\ndeclare global {\n  type RootState = ReturnType<typeof appStore.getState>;\n  type AppDispatch = typeof appStore.dispatch;\n}\n","import { Component, ErrorInfo, ReactNode } from 'react';\nimport { Button, Result } from 'antd';\nimport { isMessage, isServerErrors, joinErrors } from 'src/shared/api/errors';\n\ninterface AppErrorBoundaryProps {\n  children: ReactNode;\n}\n\ninterface AppErrorBoundaryState {\n  hasError: boolean;\n  error: Error | null;\n}\n\nexport class AppErrorBoundary extends Component<AppErrorBoundaryProps, AppErrorBoundaryState> {\n  state: AppErrorBoundaryState = {\n    hasError: false,\n    error: null,\n  };\n\n  static getDerivedStateFromError(error: unknown): AppErrorBoundaryState {\n    if (isServerErrors(error)) {\n      return { hasError: true, error: new Error(joinErrors(error)) };\n    } else if (isMessage(error)) {\n      return { hasError: true, error: new Error(error.message) };\n    }\n\n    return { hasError: true, error: new Error('Unknown error.') };\n  }\n\n  componentDidCatch(error: unknown, errorInfo: ErrorInfo) {\n    console.error('AppErrorBoundary caught an error:', error, errorInfo);\n  }\n\n  handleRetry = () => {\n    this.setState({ hasError: false, error: null });\n  };\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <Result\n          status=\"500\"\n          subTitle=\"Something went wrong.\"\n          extra={\n            <Button onClick={this.handleRetry} type=\"primary\">\n              Try again\n            </Button>\n          }\n        />\n      );\n    }\n\n    return this.props.children;\n  }\n}\n","export const RouteTypes = {\n  public: 'public', // Route is always added; if isMenuItem = true, it is always displayed in the menu.\n  private: 'private', // Route is always added, and the element is wrapped in PrivateRoute; if isMenuItem = true, it is always displayed in the menu.\n  privateHidden: 'privateHidden', // Route is added for authorized users; if isMenuItem = true, it is displayed only for authorized users.\n} as const;\n\nexport type RouteType = (typeof RouteTypes)[keyof typeof RouteTypes];\n\nexport const ROUTES = {\n  home: {\n    path: '/',\n    title: 'Home',\n    type: RouteTypes.public as RouteType,\n    isMenuItem: true,\n  },\n  test: {\n    path: '/test',\n    title: 'Test',\n    type: RouteTypes.private as RouteType,\n    isMenuItem: true,\n  },\n  auth: {\n    path: '/auth',\n    title: 'Auth',\n    type: RouteTypes.public as RouteType,\n    isMenuItem: false,\n  },\n  profile: {\n    path: '/profile',\n    title: 'Profile',\n    type: RouteTypes.privateHidden as RouteType,\n    isMenuItem: true,\n  },\n} as const;\n\nexport const getWithoutHiddenRoutes = () => {\n  return Object.keys(ROUTES)\n    .map((key) => ROUTES[key as keyof typeof ROUTES])\n    .filter((route) => route.type !== RouteTypes.privateHidden);\n};\n\nexport const getHiddenRoutes = () => {\n  return Object.keys(ROUTES)\n    .map((key) => ROUTES[key as keyof typeof ROUTES])\n    .filter((route) => route.type === RouteTypes.privateHidden);\n};\n","import { Menu } from 'antd';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useAuth } from 'src/entities/User';\nimport { getHiddenRoutes, getWithoutHiddenRoutes } from 'src/shared/config/routes';\n\nexport const AppMenu: React.FC = () => {\n  const location = useLocation();\n  const isAuth = useAuth();\n\n  const visibleRoutes = getWithoutHiddenRoutes();\n  const routes = [...visibleRoutes, ...(isAuth ? getHiddenRoutes() : [])].filter(\n    (route) => route.isMenuItem,\n  );\n\n  const menuItems = routes.map((route) => {\n    return {\n      key: route.path,\n      label: <Link to={route.path}>{route.title}</Link>,\n    };\n  });\n\n  return (\n    <Menu theme=\"dark\" mode=\"horizontal\" selectedKeys={[location.pathname]} items={menuItems} />\n  );\n};\n","import React from 'react';\nimport { Menu } from 'antd';\nimport { Link } from 'react-router-dom';\nimport logo from './Logo.ico';\nimport styles from './Logo.module.scss';\n\nexport const Logo: React.FC = () => {\n  const menuItems = [\n    {\n      key: 'logo',\n      label: (\n        <Link to=\"/\">\n          <img src={logo} alt=\"App Store\" className={styles.logo} />\n        </Link>\n      ),\n    },\n  ];\n\n  return <Menu theme=\"dark\" mode=\"horizontal\" selectable={false} items={menuItems} />;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"logo\":\"Logo-module_logo-NpPh8\"};","import React from 'react';\nimport { Header } from 'antd/es/layout/layout';\nimport { AppMenu } from 'src/features/AppMenu';\nimport { Logo } from 'src/shared/ui/Logo/Logo';\nimport styles from './AppHeader.module.scss';\n\nexport const AppHeader: React.FC = () => {\n  return (\n    <Header className={styles.header}>\n      <Logo />\n      <AppMenu />\n    </Header>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"AppHeader-module_header-zuk5F\"};","import React from 'react';\nimport { Layout } from 'antd';\nimport { Content, Footer } from 'antd/es/layout/layout';\nimport { AppHeader } from 'src/widgets/AppHeader';\nimport styles from './AppLayout.module.scss';\n\ninterface LayoutProps {\n  children: React.ReactNode;\n}\n\nexport const AppLayout: React.FC<LayoutProps> = ({ children }) => {\n  return (\n    <Layout className={styles.layout}>\n      <AppHeader />\n      <Content className={styles.content}>{children}</Content>\n      <Footer className={styles.footer}>Footer content</Footer>\n    </Layout>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"layout\":\"AppLayout-module_layout-fQ34W\",\"content\":\"AppLayout-module_content-hSilA\",\"footer\":\"AppLayout-module_footer-tj07I\"};","import { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\nimport { appStore } from 'src/app/store/appStore';\nimport { AppErrorBoundary } from './AppErrorBoundary/AppErrorBoundary';\nimport { AppLayout } from '../AppLayout';\n\ninterface ProvidersProps {\n  children: React.ReactNode;\n}\n\nexport const Providers: React.FC<ProvidersProps> = ({ children }) => {\n  return (\n    <AppErrorBoundary>\n      <HashRouter>\n        <Provider store={appStore}>\n          <AppLayout>{children}</AppLayout>\n        </Provider>\n      </HashRouter>\n    </AppErrorBoundary>\n  );\n};\n","import React from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport { useAuth } from 'src/entities/User';\nimport { ROUTES } from 'src/shared/config/routes';\n\ninterface PrivateRouteProps {\n  children: React.ReactNode;\n}\n\nconst PrivateRoute: React.FC<PrivateRouteProps> = ({ children }) => {\n  const isAuth = useAuth();\n  const location = useLocation();\n\n  if (!isAuth) {\n    return <Navigate to={ROUTES.auth.path} state={{ from: location.pathname }} replace />;\n  }\n\n  return children;\n};\n\nexport default PrivateRoute;\n","import { lazy } from 'react';\nimport { Button, Result } from 'antd';\nimport { Routes, Route } from 'react-router-dom';\nimport { useAuth } from 'src/entities/User';\nimport {\n  getHiddenRoutes,\n  getWithoutHiddenRoutes,\n  ROUTES,\n  RouteTypes,\n} from 'src/shared/config/routes';\nimport PrivateRoute from './PrivateRoute';\n\nconst HomePage = lazy(() => import('src/pages/HomePage/HomePage'));\nconst AuthPage = lazy(() => import('src/pages/AuthPage/AuthPage'));\n\nconst PAGES = [\n  { path: ROUTES.home.path, element: <HomePage /> },\n  { path: ROUTES.auth.path, element: <AuthPage /> },\n  { path: ROUTES.profile.path, element: <div>Profile</div> },\n];\n\nconst AppRoutes = () => {\n  const isAuth = useAuth();\n\n  return (\n    <Routes>\n      {renderPrivateAndPublicRoutes()}\n      {renderHiddenRoutes(isAuth)}\n    </Routes>\n  );\n};\n\nconst renderPrivateAndPublicRoutes = () => {\n  return getWithoutHiddenRoutes().map((route) => {\n    return route.type === RouteTypes.private ? (\n      <Route\n        key={route.path}\n        path={route.path}\n        element={<PrivateRoute>{renderPage(route.path)}</PrivateRoute>}\n      />\n    ) : (\n      <Route key={route.path} path={route.path} element={renderPage(route.path)} />\n    );\n  });\n};\n\nconst renderHiddenRoutes = (isAuth: boolean) => {\n  return (\n    isAuth &&\n    getHiddenRoutes().map((route) => {\n      return (\n        <Route\n          key={route.path}\n          path={route.path}\n          element={<PrivateRoute>{renderPage(route.path)}</PrivateRoute>}\n        />\n      );\n    })\n  );\n};\n\nconst renderPage = (path: string) => {\n  const page = PAGES.find((page) => page.path === path);\n  return page ? (\n    page.element\n  ) : (\n    <Result\n      status=\"404\"\n      title=\"404\"\n      subTitle=\"Sorry, the page you visited does not exist.\"\n      extra={\n        <Button onClick={() => (window.location.href = ROUTES.home.path)} type=\"primary\">\n          Back Home\n        </Button>\n      }\n    />\n  );\n};\n\nexport default AppRoutes;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./global.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./global.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","/* eslint-disable import-x/no-named-as-default-member */\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './app/App';\nimport 'src/shared/styles/global.scss';\n\nReactDOM.createRoot(document.getElementById('root')!).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n);\n","import { Providers } from './providers/Providers';\nimport AppRoutes from './routes/AppRoutes';\n\nconst App: React.FC = () => {\n  return (\n    <Providers>\n      <AppRoutes />\n    </Providers>\n  );\n};\n\nexport default App;\n","/* eslint-disable max-lines */\nexport type ServerErrors = {\n  errors: {\n    extensions: {\n      code: ErrorCode;\n    };\n    name: string;\n    fieldName?: string;\n    stack: string;\n    message: string;\n  }[];\n};\n\nexport enum ErrorCode {\n  ERR_INCORRECT_EMAIL_OR_PASSWORD = 'ERR_INCORRECT_EMAIL_OR_PASSWORD',\n  ERR_ACCOUNT_ALREADY_EXIST = 'ERR_ACCOUNT_ALREADY_EXIST',\n  ERR_FIELD_REQUIRED = 'ERR_FIELD_REQUIRED',\n  ERR_INCORRECT_PASSWORD = 'ERR_INCORRECT_PASSWORD',\n  ERR_INVALID_PASSWORD = 'ERR_INVALID_PASSWORD',\n  ERR_NOT_VALID = 'ERR_NOT_VALID',\n  ERR_AUTH = 'ERR_AUTH',\n  ERR_NO_FILES = 'ERR_NO_FILES',\n  ERR_NOT_ALLOWED = 'ERR_NOT_ALLOWED',\n  ERR_NOT_FOUND = 'ERR_NOT_FOUND',\n  ERR_VALIDATION_ERROR = 'ERR_VALIDATION_ERROR',\n  ERR_INVALID_QUERY_PARAMS = 'ERR_INVALID_QUERY_PARAMS',\n  ERR_INTERNAL_SERVER = 'ERR_INTERNAL_SERVER',\n}\n\nexport const parseErrorAndThrow = (error: unknown) => {\n  if (isTypeWithDataAsServerErrors(error)) {\n    throw error.data;\n  } else {\n    throw error;\n  }\n};\n\nexport const getFormErrors = (error: unknown): { name: string; errors: string[] }[] => {\n  if (isTypeWithDataAsServerErrors(error)) {\n    return error.data.errors\n      .filter((err) => Boolean(err.fieldName))\n      .map((err) => ({\n        name: err.fieldName as string,\n        errors: [err.message],\n      }));\n  }\n  return [];\n};\n\nexport const includeCode = (error: ServerErrors, codes: ErrorCode[]) => {\n  return error.errors.some((err) => codes.includes(err.extensions.code));\n};\n\nexport const joinErrors = (error: ServerErrors) => {\n  return error.errors.map((err) => err.message).join('\\n');\n};\n\nexport const isMessage = (error: unknown): error is { message: string } => {\n  if (typeof error !== 'object' || error === null) {\n    return false;\n  }\n\n  if ('message' in error && typeof (error as { message: unknown }).message === 'string') {\n    return true;\n  }\n\n  return false;\n};\n\nexport const isTypeWithDataAsServerErrors = (error: unknown): error is { data: ServerErrors } => {\n  if (typeof error !== 'object' || error === null) {\n    return false;\n  }\n\n  if (!('data' in error) || !isServerErrors((error as { data: unknown })?.data)) {\n    return false;\n  }\n\n  return true;\n};\n\nexport const isServerErrors = (error: unknown): error is ServerErrors => {\n  if (typeof error !== 'object' || error === null) {\n    return false;\n  }\n\n  if (!('errors' in error) || !Array.isArray((error as ServerErrors).errors)) {\n    return false;\n  }\n\n  return (error as ServerErrors).errors.every(\n    (err: unknown): err is ServerErrors['errors'][number] => {\n      if (typeof err !== 'object' || err === null) {\n        return false;\n      }\n\n      if (\n        typeof (err as ServerErrors['errors'][number]).name !== 'string' ||\n        typeof (err as ServerErrors['errors'][number]).message !== 'string' ||\n        typeof (err as ServerErrors['errors'][number]).stack !== 'string'\n      ) {\n        return false;\n      }\n\n      if (\n        !('extensions' in err) ||\n        typeof (err as ServerErrors['errors'][number]).extensions !== 'object' ||\n        (err as ServerErrors['errors'][number]).extensions === null\n      ) {\n        return false;\n      }\n\n      if (\n        typeof (err as ServerErrors['errors'][number]).extensions.code !== 'string' ||\n        !(Object.values(ErrorCode) as string[]).includes(\n          (err as ServerErrors['errors'][number]).extensions.code,\n        )\n      ) {\n        return false;\n      }\n\n      if (\n        'fieldName' in err &&\n        typeof (err as ServerErrors['errors'][number]).fieldName !== 'string'\n      ) {\n        return false;\n      }\n\n      return true;\n    },\n  );\n};\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","API_COMMAND_ID","StorageKeys","token","user","saveToken","key","value","localStorage","setItem","userApi","reducerPath","baseQuery","baseUrl","endpoints","builder","signup","mutation","query","body","url","method","commandId","signin","useSignupMutation","useSigninMutation","initialState","getItem","authSlice","name","reducers","logout","state","removeItem","removeToken","extraReducers","addMatcher","matchFulfilled","action","payload","actions","selectToken","auth","withTypes","useAppSelector","useAuth","appStore","reducer","middleware","getDefaultMiddleware","concat","devTools","AppErrorBoundary","Component","hasError","error","this","setState","getDerivedStateFromError","Error","message","componentDidCatch","errorInfo","console","render","status","subTitle","extra","onClick","handleRetry","type","props","children","RouteTypes","ROUTES","home","path","title","isMenuItem","test","profile","getWithoutHiddenRoutes","Object","keys","map","filter","route","getHiddenRoutes","AppMenu","location","isAuth","menuItems","label","to","theme","mode","selectedKeys","pathname","items","Logo","src","alt","className","selectable","AppHeader","AppLayout","Providers","store","from","replace","HomePage","lazy","AuthPage","PAGES","element","renderHiddenRoutes","renderPage","page","find","window","href","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","document","getElementById","ErrorCode","parseErrorAndThrow","isTypeWithDataAsServerErrors","data","includeCode","codes","errors","some","err","includes","extensions","code","joinErrors","join","isMessage","isServerErrors","Array","isArray","every","stack","values","fieldName"],"sourceRoot":""}
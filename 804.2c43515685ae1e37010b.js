"use strict";(self.webpackChunkapp_store=self.webpackChunkapp_store||[]).push([[804],{9804:(e,r,s)=>{s.r(r),s.d(r,{default:()=>A});var n=s(4848),i=s(6540),a=s(9646),t=s(2702),o=s(3001),l=s(6552),c=s(6928),u=s(4753),d=s(7668),m=s(4931),h=s(4716),p=s(2052),f=s(3741);const x=({onSuccess:e})=>{const{signIn:r,isLoading:s,isSuccess:a}=(()=>{const[e,{isLoading:r,isSuccess:s,isError:n,error:a}]=(0,p.Dx)();return(0,i.useEffect)((()=>{n&&a&&(0,f.Hr)(a)}),[n,a]),{signIn:(r,s)=>{return n=void 0,i=void 0,t=function*(){yield e({email:r,password:s})},new((a=void 0)||(a=Promise))((function(e,r){function s(e){try{l(t.next(e))}catch(e){r(e)}}function o(e){try{l(t.throw(e))}catch(e){r(e)}}function l(r){var n;r.done?e(r.value):(n=r.value,n instanceof a?n:new a((function(e){e(n)}))).then(s,o)}l((t=t.apply(n,i||[])).next())}));var n,i,a,t},isLoading:r,isSuccess:s}})(),[t]=d.A.useForm();return(0,i.useEffect)((()=>{a&&e()}),[a]),(0,n.jsxs)(d.A,{form:t,name:"SignInForm",labelCol:{span:8},labelAlign:"left",wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:e=>{e.email&&e.password&&r(e.email,e.password)},autoComplete:"off",children:[(0,n.jsx)(d.A.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your username!"}],children:(0,n.jsx)(m.A,{})}),(0,n.jsx)(d.A.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:(0,n.jsx)(m.A.Password,{})}),(0,n.jsx)(d.A.Item,{label:null,children:(0,n.jsx)(c.Ay,{type:"primary",htmlType:"submit",children:"Submit"})}),s&&(0,n.jsx)(h.A,{children:"Loading..."})]})};const y=({onSuccess:e})=>{const{signUp:r,isLoading:s,isSuccess:a}=(()=>{const[e,{isLoading:r,isSuccess:s,isError:n,error:a}]=(0,p.rU)();return(0,i.useEffect)((()=>{n&&a&&(0,f.Hr)(a)}),[n,a]),{signUp:(r,s)=>{return n=void 0,i=void 0,t=function*(){yield e({email:r,password:s})},new((a=void 0)||(a=Promise))((function(e,r){function s(e){try{l(t.next(e))}catch(e){r(e)}}function o(e){try{l(t.throw(e))}catch(e){r(e)}}function l(r){var n;r.done?e(r.value):(n=r.value,n instanceof a?n:new a((function(e){e(n)}))).then(s,o)}l((t=t.apply(n,i||[])).next())}));var n,i,a,t},isLoading:r,isSuccess:s}})(),[t]=d.A.useForm();return(0,i.useEffect)((()=>{a&&e()}),[a]),(0,n.jsxs)(d.A,{form:t,name:"SignUpForm",labelAlign:"left",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:e=>{e.email&&e.password&&r(e.email,e.password)},autoComplete:"off",children:[(0,n.jsx)(d.A.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!"}],children:(0,n.jsx)(m.A,{})}),(0,n.jsx)(d.A.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:(0,n.jsx)(m.A.Password,{})}),(0,n.jsx)(d.A.Item,{label:null,children:(0,n.jsx)(c.Ay,{type:"primary",htmlType:"submit",children:"Submit"})}),s&&(0,n.jsx)(h.A,{children:"Loading..."})]})};var v=s(3318);const{Title:w,Text:g}=a.A,j=()=>{const[e,r]=(0,i.useState)(!0),s=(0,u.Zp)(),a=(0,u.zy)(),d=()=>{var e;const r=(null===(e=a.state)||void 0===e?void 0:e.from)||"/";s(r,{replace:!0})};return(0,n.jsx)(t.A,{direction:"vertical",align:"center",className:"AuthSwitcher-module_container-p7e0L",children:(0,n.jsx)(v.W,{children:(0,n.jsxs)(o.A,{className:"AuthSwitcher-module_authCard-TUn7g",children:[(0,n.jsx)(w,{level:3,className:"AuthSwitcher-module_title-um9uJ",children:e?"Sign In":"Sign Up"}),e?(0,n.jsx)(x,{onSuccess:d}):(0,n.jsx)(y,{onSuccess:d}),(0,n.jsx)(l.A,{}),(0,n.jsxs)(t.A,{direction:"vertical",align:"center",style:{width:"100%"},children:[(0,n.jsx)(g,{type:"secondary",children:e?"Don't have an account?":"Already have an account?"}),(0,n.jsx)(c.Ay,{type:"link",onClick:()=>{r((e=>!e))},children:e?"Join":"Sign In"})]})]})},e?"signin_err_boundary":"signup_err_boundary")})},A=()=>(0,n.jsx)(j,{})},3318:(e,r,s)=>{s.d(r,{W:()=>o});var n=s(4848),i=s(6540),a=s(7260),t=s(3741);class o extends i.Component{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:{hasError:!1,error:null}}),Object.defineProperty(this,"handleDismiss",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.setState({hasError:!1,error:null})}})}static getDerivedStateFromError(e){const r=Object.values(t.O4).filter((e=>e!==t.O4.ERR_INTERNAL_SERVER));if((0,t.rf)(e)&&!(0,t.IG)(e,r)||!(0,t.rf)(e))throw e;const s=(0,t.rf)(e)?(0,t._h)(e):"Unknown error.";return{hasError:!0,error:new Error(s)}}render(){var e;return(0,n.jsxs)("div",{className:"LocalErrorBoundary-module_errorWrapper-jRvGF",children:[this.state.hasError&&(0,n.jsx)(a.A,{className:"LocalErrorBoundary-module_errorAlert-IiYuv",closable:!0,onClose:this.handleDismiss,type:"error",message:(null===(e=this.state.error)||void 0===e?void 0:e.message)||"Unknown error.",showIcon:!0}),this.props.children]})}}}}]);
//# sourceMappingURL=804.2c43515685ae1e37010b.js.map
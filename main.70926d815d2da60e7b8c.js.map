{"version":3,"file":"main.70926d815d2da60e7b8c.js","mappings":"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","sources":["webpack://app-store/./src/shared/styles/global.scss","webpack://app-store/./src/shared/api/baseQuery.ts","webpack://app-store/./src/entities/User/model/profileApi.ts","webpack://app-store/./src/entities/User/hooks/useAuth.ts","webpack://app-store/./src/shared/lib/appLocalStorage.ts","webpack://app-store/./src/entities/User/model/authSlice.ts","webpack://app-store/./src/entities/User/model/userApi.ts","webpack://app-store/./src/app/store/appStore.ts","webpack://app-store/./src/app/providers/AppErrorBoundary/AppErrorBoundary.tsx","webpack://app-store/./src/widgets/AppContent/ui/AppContent.module.scss?b701","webpack://app-store/./src/widgets/AppContent/ui/AppContent.tsx","webpack://app-store/./src/shared/config/routes.ts","webpack://app-store/./src/features/AppMenu/ui/AppMenu.module.scss?1c20","webpack://app-store/./src/features/AppMenu/ui/AppMenu.tsx","webpack://app-store/./src/shared/ui/Logo/Logo.tsx","webpack://app-store/./src/shared/ui/Logo/Logo.module.scss?631c","webpack://app-store/./src/widgets/AppHeader/ui/AppHeader.tsx","webpack://app-store/./src/widgets/AppHeader/ui/AppHeader.module.scss?8692","webpack://app-store/./src/app/AppLayout.tsx","webpack://app-store/./src/app/AppLayout.module.scss?ddcc","webpack://app-store/./src/app/providers/Providers.tsx","webpack://app-store/./src/app/routes/PrivateRoute.tsx","webpack://app-store/./src/app/routes/AppRoutes.tsx","webpack://app-store/./src/shared/styles/global.scss?6b19","webpack://app-store/./src/index.tsx","webpack://app-store/./src/app/App.tsx","webpack://app-store/./src/shared/api/errors/errorGuards.ts","webpack://app-store/./src/shared/api/errors/errorParser.ts","webpack://app-store/./src/shared/api/errors/errors.ts","webpack://app-store/./src/shared/config/apiConfig.ts","webpack://app-store/./src/shared/hooks/store.ts"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `html,body{margin:0;padding:0;min-height:100dvh;overflow:hidden;font-family:sans-serif}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/shared/styles/global.scss\"],\"names\":[],\"mappings\":\"AAAA,UAEE,QAAA,CACA,SAAA,CACA,iBAAA,CACA,eAAA,CACA,sBAAA\",\"sourcesContent\":[\"html,\\nbody {\\n  margin: 0;\\n  padding: 0;\\n  min-height: 100dvh;\\n  overflow: hidden;\\n  font-family: sans-serif;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import { fetchBaseQuery } from '@reduxjs/toolkit/query/react';\nimport { API_BASE_URL } from 'src/shared/config/apiConfig';\n\nexport const baseQuery = fetchBaseQuery({\n  baseUrl: API_BASE_URL,\n  prepareHeaders: (headers, { getState }) => {\n    const token = (getState() as RootState).auth.token;\n    if (token) {\n      headers.set('Authorization', `Bearer ${token}`);\n    }\n    return headers;\n  },\n});\n","import { createApi } from '@reduxjs/toolkit/query/react';\nimport { baseQuery } from 'src/shared/api/baseQuery';\nimport { ChangePasswordBody, Profile, UpdateProfileBody } from '../types/user';\n\nexport const profileApi = createApi({\n  reducerPath: 'profileApi',\n  baseQuery,\n  endpoints: (builder) => ({\n    profile: builder.query<Profile, void>({\n      query: () => ({\n        url: '/profile',\n        method: 'GET',\n      }),\n    }),\n    updateProfile: builder.mutation<Profile, UpdateProfileBody>({\n      query: (body) => ({\n        url: '/profile',\n        method: 'PATCH',\n        body,\n      }),\n    }),\n    changePassword: builder.mutation<{ success: boolean }, ChangePasswordBody>({\n      query: (body) => ({\n        url: '/profile/change-password',\n        method: 'POST',\n        body,\n      }),\n    }),\n  }),\n});\n\nexport const { useProfileQuery, useUpdateProfileMutation, useChangePasswordMutation } = profileApi;\n","import { useAppSelector } from 'src/shared/hooks/store';\nimport { selectToken } from '../model/authSlice';\n\nexport const useAuth = () => {\n  const token = useAppSelector(selectToken);\n  return { isAuth: token !== null, token };\n};\n","import { API_COMMAND_ID } from 'src/shared/config/apiConfig';\n\nconst StorageKeys = {\n  token: `token-${API_COMMAND_ID}`,\n  user: `user-${API_COMMAND_ID}`,\n} as const;\n\ntype StorageKey = (typeof StorageKeys)[keyof typeof StorageKeys];\n\nconst setItem = (key: StorageKey, value: string): void => {\n  localStorage.setItem(key, value);\n};\n\nconst getItem = (key: StorageKey): string | null => {\n  return localStorage.getItem(key);\n};\n\nconst removeItem = (key: StorageKey): void => {\n  localStorage.removeItem(key);\n};\n\nexport const clearStorage = (): void => {\n  localStorage.clear();\n};\n\nexport const saveToken = (token: string): void => {\n  setItem(StorageKeys.token, token);\n};\n\nexport const getToken = (): string | null => {\n  return getItem(StorageKeys.token);\n};\n\nexport const removeToken = (): void => {\n  removeItem(StorageKeys.token);\n};\n","import { createSlice } from '@reduxjs/toolkit';\nimport { getToken, removeToken, saveToken } from 'src/shared/lib/appLocalStorage';\nimport { userApi } from '../model/userApi';\n\ninterface AuthState {\n  token: string | null;\n}\n\nconst initialState: AuthState = {\n  token: getToken(),\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    logout(state) {\n      state.token = null;\n      removeToken();\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addMatcher(userApi.endpoints.signin.matchFulfilled, (state, action) => {\n      state.token = action.payload.token;\n      saveToken(action.payload.token);\n    });\n\n    builder.addMatcher(userApi.endpoints.signup.matchFulfilled, (state, action) => {\n      state.token = action.payload.token;\n      saveToken(action.payload.token);\n    });\n  },\n});\n\nexport const { logout } = authSlice.actions;\nexport default authSlice.reducer;\nexport const selectToken = (state: RootState) => state.auth.token;\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\nimport { API_BASE_URL, API_COMMAND_ID } from 'src/shared/config/apiConfig';\nimport { AuthResult, SignUpBody, SignInBody } from '../types/user';\n\nexport const userApi = createApi({\n  reducerPath: 'userApi',\n\n  baseQuery: fetchBaseQuery({ baseUrl: API_BASE_URL }),\n  endpoints: (builder) => ({\n    signup: builder.mutation<AuthResult, SignUpBody>({\n      query: (body) => ({\n        url: '/signup',\n        method: 'POST',\n        body: { ...body, commandId: API_COMMAND_ID },\n      }),\n    }),\n    signin: builder.mutation<AuthResult, SignInBody>({\n      query: (body) => ({\n        url: '/signin',\n        method: 'POST',\n        body,\n      }),\n    }),\n  }),\n});\n\nexport const { useSignupMutation, useSigninMutation } = userApi;\n","import { configureStore } from '@reduxjs/toolkit';\nimport { userApi, authReducer, profileApi } from 'src/entities/User/';\n\nexport const appStore = configureStore({\n  reducer: {\n    auth: authReducer,\n    [userApi.reducerPath]: userApi.reducer,\n    [profileApi.reducerPath]: profileApi.reducer,\n  },\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware().concat(userApi.middleware).concat(profileApi.middleware),\n  devTools: true,\n});\n\ndeclare global {\n  type RootState = ReturnType<typeof appStore.getState>;\n  type AppDispatch = typeof appStore.dispatch;\n}\n","import { Component, ErrorInfo, ReactNode } from 'react';\nimport { Button, Result } from 'antd';\nimport { isMessage, isServerErrors } from 'src/shared/api/errors/errorGuards';\nimport { joinErrors } from 'src/shared/api/errors/errorParser';\n\ninterface AppErrorBoundaryProps {\n  children: ReactNode;\n}\n\ninterface AppErrorBoundaryState {\n  hasError: boolean;\n  error: Error | null;\n}\n\nexport class AppErrorBoundary extends Component<AppErrorBoundaryProps, AppErrorBoundaryState> {\n  state: AppErrorBoundaryState = {\n    hasError: false,\n    error: null,\n  };\n\n  static getDerivedStateFromError(error: unknown): AppErrorBoundaryState {\n    if (isServerErrors(error)) {\n      return { hasError: true, error: new Error(joinErrors(error)) };\n    } else if (isMessage(error)) {\n      return { hasError: true, error: new Error(error.message) };\n    }\n\n    return { hasError: true, error: new Error('Unknown error.') };\n  }\n\n  componentDidCatch(error: unknown, errorInfo: ErrorInfo) {\n    console.error('AppErrorBoundary caught an error:', error, errorInfo);\n  }\n\n  handleRetry = () => {\n    this.setState({ hasError: false, error: null });\n  };\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <Result\n          status=\"500\"\n          subTitle=\"Something went wrong.\"\n          extra={\n            <Button onClick={this.handleRetry} type=\"primary\">\n              Try again\n            </Button>\n          }\n        />\n      );\n    }\n\n    return this.props.children;\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"AppContent-module_content-X1q5X\"};","import React from 'react';\nimport styles from './AppContent.module.scss';\n\ninterface AppContentProps {\n  children: React.ReactNode;\n}\n\nexport const AppContent: React.FC<AppContentProps> = ({ children }) => {\n  return <main className={styles.content}>{children}</main>;\n};\n","export const RouteTypes = {\n  public: 'public', // Route is always added; if isMenuItem = true, it is always displayed in the menu.\n  private: 'private', // Route is always added, and the element is wrapped in PrivateRoute; if isMenuItem = true, it is always displayed in the menu.\n  privateHidden: 'privateHidden', // Route is added for authorized users; if isMenuItem = true, it is displayed only for authorized users.\n} as const;\n\nexport type RouteType = (typeof RouteTypes)[keyof typeof RouteTypes];\n\nexport const ROUTES = {\n  home: {\n    path: '/',\n    title: 'Home',\n    type: RouteTypes.public as RouteType,\n    isMenuItem: true,\n  },\n  test: {\n    path: '/test',\n    title: 'Catalog',\n    type: RouteTypes.private as RouteType,\n    isMenuItem: true,\n  },\n  auth: {\n    path: '/auth',\n    title: 'Sign In',\n    type: RouteTypes.public as RouteType,\n    isMenuItem: false,\n  },\n  profile: {\n    path: '/profile',\n    title: 'Profile',\n    type: RouteTypes.privateHidden as RouteType,\n    isMenuItem: true,\n  },\n} as const;\n\nexport const getWithoutHiddenRoutes = () => {\n  return Object.keys(ROUTES)\n    .map((key) => ROUTES[key as keyof typeof ROUTES])\n    .filter((route) => route.type !== RouteTypes.privateHidden);\n};\n\nexport const getHiddenRoutes = () => {\n  return Object.keys(ROUTES)\n    .map((key) => ROUTES[key as keyof typeof ROUTES])\n    .filter((route) => route.type === RouteTypes.privateHidden);\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"menu\":\"AppMenu-module_menu-kIy7w\",\"item\":\"AppMenu-module_item-h591S\"};","import { LogoutOutlined } from '@ant-design/icons';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from 'src/entities/User';\nimport { logout } from 'src/entities/User/model/authSlice';\nimport { getHiddenRoutes, getWithoutHiddenRoutes, ROUTES } from 'src/shared/config/routes';\nimport { useAppDispatch } from 'src/shared/hooks/store';\nimport styles from './AppMenu.module.scss';\n\nexport const AppMenu: React.FC = () => {\n  const { isAuth } = useAuth();\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n\n  const visibleRoutes = getWithoutHiddenRoutes();\n  const routes = [...visibleRoutes, ...(isAuth ? getHiddenRoutes() : [])].filter(\n    (route) => route.isMenuItem,\n  );\n\n  const handleLogout = () => {\n    if (isAuth) {\n      dispatch(logout());\n      navigate(ROUTES.auth.path);\n    }\n  };\n\n  return (\n    <ul className={styles.menu}>\n      {routes.map((route) => {\n        return (\n          <li className={styles.item} key={route.path}>\n            <Link to={route.path}>{route.title}</Link>\n          </li>\n        );\n      })}\n      <li className={styles.item} key=\"signin-signout\" onClick={handleLogout}>\n        {isAuth ? (\n          <LogoutOutlined style={{ cursor: 'pointer' }} />\n        ) : (\n          <Link to={ROUTES.auth.path}>{ROUTES.auth.title}</Link>\n        )}\n      </li>\n    </ul>\n  );\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport logo from './Logo.ico';\nimport styles from './Logo.module.scss';\n\nexport const Logo: React.FC = () => {\n  return (\n    <div className={styles.logo}>\n      <Link to=\"/\">\n        <img src={logo} alt=\"App Store\" />\n      </Link>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"logo\":\"Logo-module_logo-NpPh8\"};","import { AppMenu } from 'src/features/AppMenu';\nimport { Logo } from 'src/shared/ui/Logo/Logo';\nimport styles from './AppHeader.module.scss';\n\nexport const AppHeader: React.FC = () => {\n  return (\n    <header className={styles.header}>\n      <Logo />\n      <AppMenu />\n    </header>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"AppHeader-module_header-zuk5F\"};","import React from 'react';\nimport { AppContent } from 'src/widgets/AppContent';\nimport { AppHeader } from 'src/widgets/AppHeader';\nimport styles from './AppLayout.module.scss';\n\ninterface LayoutProps {\n  children: React.ReactNode;\n}\n\nexport const AppLayout: React.FC<LayoutProps> = ({ children }) => {\n  return (\n    <div className={styles.layout}>\n      <AppHeader />\n      <AppContent>{children}</AppContent>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"layout\":\"AppLayout-module_layout-fQ34W\"};","import { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\nimport { appStore } from 'src/app/store/appStore';\nimport { AppErrorBoundary } from './AppErrorBoundary/AppErrorBoundary';\nimport { AppLayout } from '../AppLayout';\n\ninterface ProvidersProps {\n  children: React.ReactNode;\n}\n\nexport const Providers: React.FC<ProvidersProps> = ({ children }) => {\n  return (\n    <AppErrorBoundary>\n      <HashRouter>\n        <Provider store={appStore}>\n          <AppLayout>{children}</AppLayout>\n        </Provider>\n      </HashRouter>\n    </AppErrorBoundary>\n  );\n};\n","import React from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport { useAuth } from 'src/entities/User';\nimport { ROUTES } from 'src/shared/config/routes';\n\ninterface PrivateRouteProps {\n  children: React.ReactNode;\n}\n\nconst PrivateRoute: React.FC<PrivateRouteProps> = ({ children }) => {\n  const { isAuth } = useAuth();\n  const location = useLocation();\n\n  if (!isAuth) {\n    return <Navigate to={ROUTES.auth.path} state={{ from: location.pathname }} replace />;\n  }\n\n  return children;\n};\n\nexport default PrivateRoute;\n","import { lazy } from 'react';\nimport { Button, Result } from 'antd';\nimport { Routes, Route } from 'react-router-dom';\nimport { useAuth } from 'src/entities/User';\nimport {\n  getHiddenRoutes,\n  getWithoutHiddenRoutes,\n  ROUTES,\n  RouteTypes,\n} from 'src/shared/config/routes';\nimport PrivateRoute from './PrivateRoute';\n\nconst HomePage = lazy(() => import('src/pages/HomePage/HomePage'));\nconst AuthPage = lazy(() => import('src/pages/AuthPage/AuthPage'));\nconst ProfilePage = lazy(() => import('src/pages/ProfilePage/ProfilePage'));\n\nconst PAGES = [\n  { path: ROUTES.home.path, element: <HomePage /> },\n  { path: ROUTES.auth.path, element: <AuthPage /> },\n  { path: ROUTES.profile.path, element: <ProfilePage /> },\n];\n\nconst AppRoutes = () => {\n  const { isAuth } = useAuth();\n\n  return (\n    <Routes>\n      {renderPrivateAndPublicRoutes()}\n      {renderHiddenRoutes(isAuth)}\n    </Routes>\n  );\n};\n\nconst renderPrivateAndPublicRoutes = () => {\n  return getWithoutHiddenRoutes().map((route) => {\n    return route.type === RouteTypes.private ? (\n      <Route\n        key={route.path}\n        path={route.path}\n        element={<PrivateRoute>{renderPage(route.path)}</PrivateRoute>}\n      />\n    ) : (\n      <Route key={route.path} path={route.path} element={renderPage(route.path)} />\n    );\n  });\n};\n\nconst renderHiddenRoutes = (isAuth: boolean) => {\n  return (\n    isAuth &&\n    getHiddenRoutes().map((route) => {\n      return (\n        <Route\n          key={route.path}\n          path={route.path}\n          element={<PrivateRoute>{renderPage(route.path)}</PrivateRoute>}\n        />\n      );\n    })\n  );\n};\n\nconst renderPage = (path: string) => {\n  const page = PAGES.find((page) => page.path === path);\n  return page ? (\n    page.element\n  ) : (\n    <Result\n      status=\"404\"\n      title=\"404\"\n      subTitle=\"Sorry, the page you visited does not exist.\"\n      extra={\n        <Button onClick={() => (window.location.href = ROUTES.home.path)} type=\"primary\">\n          Back Home\n        </Button>\n      }\n    />\n  );\n};\n\nexport default AppRoutes;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./global.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./global.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","/* eslint-disable import-x/no-named-as-default-member */\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './app/App';\nimport 'src/shared/styles/global.scss';\n\nReactDOM.createRoot(document.getElementById('root')!).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n);\n","import { Providers } from './providers/Providers';\nimport AppRoutes from './routes/AppRoutes';\n\nconst App: React.FC = () => {\n  return (\n    <Providers>\n      <AppRoutes />\n    </Providers>\n  );\n};\n\nexport default App;\n","import { ErrorCode, ServerErrors } from './errors';\n\nexport const isMessage = (error: unknown): error is { message: string } => {\n  if (typeof error !== 'object' || error === null) {\n    return false;\n  }\n\n  if ('message' in error && typeof (error as { message: unknown }).message === 'string') {\n    return true;\n  }\n\n  return false;\n};\n\nexport const isTypeWithDataAsServerErrors = (error: unknown): error is { data: ServerErrors } => {\n  if (typeof error !== 'object' || error === null) {\n    return false;\n  }\n\n  if (!('data' in error) || !isServerErrors((error as { data: unknown })?.data)) {\n    return false;\n  }\n\n  return true;\n};\n\nexport const isServerErrors = (error: unknown): error is ServerErrors => {\n  if (typeof error !== 'object' || error === null) {\n    return false;\n  }\n\n  if (!('errors' in error) || !Array.isArray((error as ServerErrors).errors)) {\n    return false;\n  }\n\n  return (error as ServerErrors).errors.every(\n    (err: unknown): err is ServerErrors['errors'][number] => {\n      if (typeof err !== 'object' || err === null) {\n        return false;\n      }\n\n      if (\n        typeof (err as ServerErrors['errors'][number]).name !== 'string' ||\n        typeof (err as ServerErrors['errors'][number]).message !== 'string' ||\n        typeof (err as ServerErrors['errors'][number]).stack !== 'string'\n      ) {\n        return false;\n      }\n\n      if (\n        !('extensions' in err) ||\n        typeof (err as ServerErrors['errors'][number]).extensions !== 'object' ||\n        (err as ServerErrors['errors'][number]).extensions === null\n      ) {\n        return false;\n      }\n\n      if (\n        typeof (err as ServerErrors['errors'][number]).extensions.code !== 'string' ||\n        !(Object.values(ErrorCode) as string[]).includes(\n          (err as ServerErrors['errors'][number]).extensions.code,\n        )\n      ) {\n        return false;\n      }\n\n      if (\n        'fieldName' in err &&\n        typeof (err as ServerErrors['errors'][number]).fieldName !== 'string'\n      ) {\n        return false;\n      }\n\n      return true;\n    },\n  );\n};\n","import { isTypeWithDataAsServerErrors } from './errorGuards';\nimport { ErrorCode, ServerErrors } from './errors';\n\nconst globalErrorCodes = [\n  ErrorCode.ERR_NOT_VALID,\n  ErrorCode.ERR_AUTH,\n  ErrorCode.ERR_NO_FILES,\n  ErrorCode.ERR_NOT_ALLOWED,\n  ErrorCode.ERR_NOT_FOUND,\n  ErrorCode.ERR_INVALID_QUERY_PARAMS,\n  ErrorCode.ERR_INTERNAL_SERVER,\n];\n\nexport const throwIfGlobalError = (error: unknown) => {\n  if (isTypeWithDataAsServerErrors(error)) {\n    const hasGlobalError = includeSomeCode(error.data, globalErrorCodes);\n\n    if (hasGlobalError) {\n      throw error.data;\n    }\n    return;\n  }\n\n  throw error;\n};\n\nexport const extractFormErrors = <T>(error: unknown): { name: keyof T; errors: string[] }[] => {\n  if (isTypeWithDataAsServerErrors(error)) {\n    return error.data.errors\n      .filter((err) => Boolean(err.fieldName))\n      .map((err) => ({\n        name: err.fieldName as keyof T,\n        errors: [err.message],\n      }));\n  }\n  return [];\n};\n\nexport const extractWithoutFiledErrors = (error: unknown): string | null => {\n  if (isTypeWithDataAsServerErrors(error)) {\n    return error.data.errors\n      .filter((err) => !err.fieldName)\n      .map((err) => err.message)\n      .join('\\n');\n  }\n  return null;\n};\n\nexport const includeSomeCode = (error: ServerErrors, codes: ErrorCode[]) => {\n  return error.errors.some((err) => codes.includes(err.extensions.code));\n};\n\nexport const joinErrors = (error: ServerErrors) => {\n  return error.errors.map((err) => err.message).join('\\n');\n};\n","export type ServerErrors = {\n  errors: {\n    extensions: {\n      code: ErrorCode;\n    };\n    name: string;\n    fieldName?: string;\n    stack: string;\n    message: string;\n  }[];\n};\n\nexport enum ErrorCode {\n  ERR_INCORRECT_EMAIL_OR_PASSWORD = 'ERR_INCORRECT_EMAIL_OR_PASSWORD',\n  ERR_ACCOUNT_ALREADY_EXIST = 'ERR_ACCOUNT_ALREADY_EXIST',\n  ERR_FIELD_REQUIRED = 'ERR_FIELD_REQUIRED',\n  ERR_INCORRECT_PASSWORD = 'ERR_INCORRECT_PASSWORD',\n  ERR_INVALID_PASSWORD = 'ERR_INVALID_PASSWORD',\n  ERR_NOT_VALID = 'ERR_NOT_VALID',\n  ERR_AUTH = 'ERR_AUTH',\n  ERR_NO_FILES = 'ERR_NO_FILES',\n  ERR_NOT_ALLOWED = 'ERR_NOT_ALLOWED',\n  ERR_NOT_FOUND = 'ERR_NOT_FOUND',\n  ERR_VALIDATION_ERROR = 'ERR_VALIDATION_ERROR',\n  ERR_INVALID_QUERY_PARAMS = 'ERR_INVALID_QUERY_PARAMS',\n  ERR_INTERNAL_SERVER = 'ERR_INTERNAL_SERVER',\n}\n","export const API_BASE_URL = 'https://19429ba06ff2.vps.myjino.ru/api';\nexport const API_COMMAND_ID = '123e4567-e89b-12d3-a456-426614174000';\n","import { useDispatch, useSelector, type TypedUseSelectorHook } from 'react-redux';\n\nexport const useAppDispatch = useDispatch.withTypes<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","baseQuery","baseUrl","prepareHeaders","headers","getState","token","auth","set","profileApi","reducerPath","endpoints","builder","profile","query","url","method","updateProfile","mutation","body","changePassword","useProfileQuery","useUpdateProfileMutation","useChangePasswordMutation","useAuth","isAuth","StorageKeys","user","saveToken","key","value","localStorage","setItem","initialState","getItem","authSlice","name","reducers","logout","state","removeItem","removeToken","extraReducers","addMatcher","userApi","signin","matchFulfilled","action","payload","signup","actions","selectToken","commandId","useSignupMutation","useSigninMutation","appStore","reducer","middleware","getDefaultMiddleware","concat","devTools","AppErrorBoundary","Component","hasError","error","this","setState","getDerivedStateFromError","Error","message","componentDidCatch","errorInfo","console","render","status","subTitle","extra","onClick","handleRetry","type","props","children","AppContent","className","RouteTypes","ROUTES","home","path","title","isMenuItem","test","getWithoutHiddenRoutes","Object","keys","map","filter","route","getHiddenRoutes","AppMenu","dispatch","navigate","routes","to","LogoutOutlined","style","cursor","Logo","src","alt","AppHeader","AppLayout","Providers","store","location","from","pathname","replace","HomePage","lazy","AuthPage","ProfilePage","PAGES","element","renderHiddenRoutes","renderPage","page","find","window","href","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","document","getElementById","isMessage","isTypeWithDataAsServerErrors","isServerErrors","data","Array","isArray","errors","every","err","stack","extensions","code","values","includes","fieldName","globalErrorCodes","ERR_NOT_VALID","ERR_AUTH","ERR_NO_FILES","ERR_NOT_ALLOWED","ERR_NOT_FOUND","ERR_INVALID_QUERY_PARAMS","ERR_INTERNAL_SERVER","throwIfGlobalError","includeSomeCode","extractFormErrors","Boolean","extractWithoutFiledErrors","join","codes","some","joinErrors","ErrorCode","API_BASE_URL","API_COMMAND_ID","useAppDispatch","withTypes","useAppSelector"],"sourceRoot":""}
"use strict";(self.webpackChunkapp_store=self.webpackChunkapp_store||[]).push([[352],{9352:(e,r,s)=>{s.r(r),s.d(r,{default:()=>P});var n=s(4848),o=s(6540),a=s(9646),t=s(2702),i=s(3001),c=s(6552),l=s(6928),d=s(7668),u=s(4931),h=s(4716);const m="ProfileForm-module_card-f6NRp";var f=s(2052),p=s(3741);const w=({onSuccess:e})=>{const[r,s]=(0,o.useState)(!1),{data:a}=(()=>{const{data:e,refetch:r,isLoading:s,isSuccess:n,isError:a,error:t}=(0,f.v4)();return(0,o.useEffect)((()=>{a&&t&&(0,p.Hr)(t)}),[a,t]),{refetch:r,data:e,isLoading:s,isSuccess:n}})(),{update:c,isLoading:w,isSuccess:x}=(()=>{const[e,{isLoading:r,isSuccess:s,isError:n,error:a}]=(0,f.d2)();return(0,o.useEffect)((()=>{n&&a&&(0,p.Hr)(a)}),[n,a]),{update:r=>{return s=void 0,n=void 0,a=function*(){yield e({name:r})},new((o=void 0)||(o=Promise))((function(e,r){function t(e){try{c(a.next(e))}catch(e){r(e)}}function i(e){try{c(a.throw(e))}catch(e){r(e)}}function c(r){var s;r.done?e(r.value):(s=r.value,s instanceof o?s:new o((function(e){e(s)}))).then(t,i)}c((a=a.apply(s,n||[])).next())}));var s,n,o,a},isLoading:r,isSuccess:s}})(),[y]=d.A.useForm();return(0,o.useEffect)((()=>{a&&y.setFieldsValue(a)}),[a,y]),(0,o.useEffect)((()=>{x&&s(!1),x&&e&&e()}),[x,e]),(0,n.jsx)(i.A,{className:m,children:(0,n.jsxs)(d.A,{form:y,name:"ProfileForm",layout:"vertical",onFinish:e=>{c(e.name)},autoComplete:"off",children:[(0,n.jsx)(d.A.Item,{label:"Full Name",name:"name",rules:[{required:!0,message:"Please enter your name!"}],children:(0,n.jsx)(u.A,{onChange:()=>{s(!0)},placeholder:"John Doe"})}),(0,n.jsx)(d.A.Item,{label:"Email",name:"email",children:(0,n.jsx)(u.A,{readOnly:!0})}),(0,n.jsx)(d.A.Item,{label:"Date of Registration",name:"signUpDate",children:(0,n.jsx)(u.A,{readOnly:!0})}),(0,n.jsx)(t.A,{className:"ProfileForm-module_actions-nVFPo",children:(0,n.jsx)(l.Ay,{type:"primary",htmlType:"submit",disabled:w||!r,children:w?(0,n.jsx)(h.A,{}):"Save"})})]})})};var x=s(5761);const y=({onSuccess:e})=>{const{changePass:r,contextHolder:s,isLoading:a,isSuccess:t}=(()=>{const[e,{isLoading:r,isSuccess:s,isError:n,error:a}]=(0,f.SV)(),[t,i]=x.Ay.useMessage(),c=()=>{t.open({type:"success",content:"This is a success message"})};return(0,o.useEffect)((()=>{s&&c()}),[s,c]),(0,o.useEffect)((()=>{n&&a&&(0,p.Hr)(a)}),[n,a]),{changePass:(r,s)=>{return n=void 0,o=void 0,t=function*(){yield e({password:r,newPassword:s})},new((a=void 0)||(a=Promise))((function(e,r){function s(e){try{c(t.next(e))}catch(e){r(e)}}function i(e){try{c(t.throw(e))}catch(e){r(e)}}function c(r){var n;r.done?e(r.value):(n=r.value,n instanceof a?n:new a((function(e){e(n)}))).then(s,i)}c((t=t.apply(n,o||[])).next())}));var n,o,a,t},contextHolder:i,isLoading:r,isSuccess:s}})(),[c]=d.A.useForm();return(0,o.useEffect)((()=>{t&&e&&e()}),[t]),(0,n.jsxs)(n.Fragment,{children:[s,(0,n.jsx)(i.A,{className:m,children:(0,n.jsxs)(d.A,{form:c,layout:"vertical",onFinish:e=>{r(e.password,e.newPassword)},autoComplete:"off",children:[(0,n.jsx)(d.A.Item,{label:"Current Password",name:"password",rules:[{required:!0,message:"Please enter your current password!"}],children:(0,n.jsx)(u.A.Password,{placeholder:"Enter current password"})}),(0,n.jsx)(d.A.Item,{label:"New Password",name:"newPassword",rules:[{required:!0,message:"Please enter your new password!"}],children:(0,n.jsx)(u.A.Password,{placeholder:"Enter new password"})}),(0,n.jsx)(l.Ay,{type:"primary",htmlType:"submit",className:"ProfileForm-module_submitButton-zbH7c",disabled:a,children:a?(0,n.jsx)(h.A,{}):"Update Password"})]})})]})};var j=s(3318);const{Title:v,Text:A}=a.A,g=()=>{const[e,r]=(0,o.useState)(!0);return(0,n.jsx)(t.A,{direction:"vertical",align:"center",className:"ProfileSwitcher-module_container-wKOR2",children:(0,n.jsx)(j.W,{children:(0,n.jsxs)(i.A,{className:"ProfileSwitcher-module_profileCard-iu57k",children:[(0,n.jsx)(v,{level:3,className:"ProfileSwitcher-module_title-mlJp_",children:e?"Profile":"Change Password"}),e?(0,n.jsx)(w,{}):(0,n.jsx)(y,{}),(0,n.jsx)(c.A,{}),(0,n.jsxs)(t.A,{direction:"vertical",align:"center",style:{width:"100%"},children:[(0,n.jsx)(A,{type:"secondary",children:e?"Want to change your password?":""}),(0,n.jsx)(l.Ay,{type:"link",onClick:()=>{r((e=>!e))},children:e?"Change Password":"Back to Profile"})]})]})},e?"profile_err_boundary":"password_err_boundary")})},P=()=>(0,n.jsx)(g,{})},3318:(e,r,s)=>{s.d(r,{W:()=>i});var n=s(4848),o=s(6540),a=s(7260),t=s(3741);class i extends o.Component{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:{hasError:!1,error:null}}),Object.defineProperty(this,"handleDismiss",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.setState({hasError:!1,error:null})}})}static getDerivedStateFromError(e){const r=Object.values(t.O4).filter((e=>e!==t.O4.ERR_INTERNAL_SERVER));if((0,t.rf)(e)&&!(0,t.IG)(e,r)||!(0,t.rf)(e))throw e;const s=(0,t.rf)(e)?(0,t._h)(e):"Unknown error.";return{hasError:!0,error:new Error(s)}}render(){var e;return(0,n.jsxs)("div",{className:"LocalErrorBoundary-module_errorWrapper-jRvGF",children:[this.state.hasError&&(0,n.jsx)(a.A,{className:"LocalErrorBoundary-module_errorAlert-IiYuv",closable:!0,onClose:this.handleDismiss,type:"error",message:(null===(e=this.state.error)||void 0===e?void 0:e.message)||"Unknown error.",showIcon:!0}),this.props.children]})}}}}]);
//# sourceMappingURL=352.07edf93edfc905fec5ee.js.map